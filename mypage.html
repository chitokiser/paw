<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <link rel="shortcut icon" href="../images/logo.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">
    <link rel="stylesheet" href="/css/main.css">

    <!-- Font for the SVG -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <title>Paw DAO</title>
</head>
<body>
  
    <!-- Placeholder for dynamic header -->
    <div id="menu-placeholder"></div>

<script>
  fetch('dashboard.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('menu-placeholder').innerHTML = data;

      // DOM 삽입 후 스크립트 로드
      const script = document.createElement('script');
      script.src = '../src/topinfo.js';
      script.type = 'text/javascript';

      // 스크립트가 로드된 이후 실행 보장
      script.onload = () => {
        if (typeof topData === 'function') {
          topData();  // topinfo.js 내부 함수 실행
        }
      };

      document.body.appendChild(script);
    })
    .catch(error => console.error('Error loading the dashboard content:', error));
</script>
    
  <!-- My Page Section -->


    <div class="card-header text-center">
      <h5>My Page</h5>
    </div>
    <div class="card-body text-center">

      <ul class="list-group mb-3">
        <li class="list-group-item">
          Click <strong>[Connection Wallet > sign up]</strong> in the upper right menu,<br>
          enter the referrer's address, and sign up to become level 1.
        </li>
      </ul>

      <div class="mb-3">
        <button class="btn btn-outline-success w-100" onclick="MemberLogin()">Wallet Connection</button>
      </div>

      <ul class="list-group mb-3 text-start">
        <li class="list-group-item">MyPAW: <span id="Mypaw">-</span>PAW</li>
        <li class="list-group-item">MyPUP: <span id="Mypup">-</span>PUP</li>
        <li class="list-group-item">Level: <span id="Mylev">-</span></li>
        <li class="list-group-item">Experience: <span id="Exp">-</span> exp</li>
        <li class="list-group-item">Experience needed to level up: <span id="Expneeded">-</span> exp</li>
        <li class="list-group-item">GamePoints: <span id="Mypoint">-</span> GP</li>
        <li class="list-group-item">Mentor: <span id="Mymento">-</span></li>

        <li class="list-group-item">
          <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
            <button class="btn btn-outline-dark position-relative mb-2 mb-md-0" onclick="Levelup()">
              Level Up
              <span class="badge bg-dark position-absolute top-0 start-100 translate-middle" id="Mylev2">-</span>
            </button>
            <div class="progress w-100 ms-md-3">
              <div class="progress-bar progress-bar-striped bg-success" id="LevelBar" role="progressbar"
                aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
              </div>
            </div>
          </div>
        </li>
      </ul>

      <p class="text-danger fw-bold mb-3">1 Point = 1 pup</p>

      <div class="d-flex flex-column flex-md-row justify-content-between">
        <button class="btn btn-outline-success w-100 mb-2 me-md-2" onclick="Bonuswithdraw()">Game point change(PUP Token)</button>
        <button class="btn btn-outline-primary w-100 ms-md-2" id="fetchAddresses" onclick="fetchMentees()">The member who recommended me</button>
      </div>

      <ul id="addressList" class="list-group mt-3 text-start"></ul>

      <div class="mt-4">
        <button class="btn btn-outline-warning w-100" onclick="Buff()">5000GP+5000EXP Free (1 time)</button>
      </div>

<h6 class="fw-bold">Recharge game points</h6> 

<input type="number" id="Amount" class="form-control mb-3" placeholder="Enter PAW token 1PAW = 1000GP" required> 
<button id="chargeButton" class="btn btn-primary w-100">Charge</button> 
<p id="resultMessage" class="mt-3 text-center text-success"></p> 
</div> 

    </div>
  </div>


  

         

 <!--Start footer -->
  
 <div id="footer"></div>

 <script>
   // Load header dynamically from dashboard.html
   fetch('../footer.html')
       .then(response => response.text())
       .then(data => {
           document.getElementById('footer').innerHTML = data;
           
           // After injecting content, dynamically load the topinfo.js script
           const script = document.createElement('script');
      
           document.body.appendChild(script);  // Append the script to the body
       })
       .catch(error => console.error('Error loading the dashboard content:', error));
</script>
<!-- End footer -->
                   
    </main>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.2.0/ethers.umd.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
          <script src="..\src\mypage.js"></script>
  </body>
  </body>
</html>
