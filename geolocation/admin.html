<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>GeoHunt ê´€ë¦¬ì í˜ì´ì§€</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:18px}
    h2{margin:0 0 10px}
    #map{height:420px;margin-bottom:12px;border-radius:10px;overflow:hidden}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:720px){.row{grid-template-columns:1fr}}
    label{font-size:12px;color:#555}
    input,button,textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:10px;margin:6px 0}
    textarea{min-height:92px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
    button{cursor:pointer;background:#111827;color:#fff;font-weight:700}
    .hint{font-size:12px;color:#6b7280;margin-top:-4px;white-space:pre-line}
    .card{border:1px solid #e5e7eb;border-radius:12px;padding:12px;margin-top:14px}
    .muted{color:#6b7280;font-size:12px}
    .subtle{background:#f8fafc;border:1px dashed #e5e7eb;border-radius:10px;padding:10px}
    .examples{display:grid;gap:6px;margin-top:6px}
    .examples code{display:block;background:#0b1020;color:#d1e7ff;padding:8px;border-radius:8px;overflow:auto}
  </style>
</head>
<body>
  <h2>GeoHunt ê´€ë¦¬ì í˜ì´ì§€</h2>

  <div id="map"></div>
  <div>ì„ íƒ ì¢Œí‘œ: <span id="coordText">-</span></div>
  <div class="muted">ì§€ë„ë¥¼ í´ë¦­í•˜ë©´ lat/lonì´ ìë™ ì…ë ¥ë©ë‹ˆë‹¤.</div>

  <!-- ëª¬ìŠ¤í„° ë“±ë¡/ìˆ˜ì • -->
  <div class="card">
    <h3>ëª¬ìŠ¤í„° ë“±ë¡/ìˆ˜ì •</h3>
    <form id="monsterForm" autocomplete="off">
      <div class="row">
        <div>
          <label for="m_lat">ìœ„ë„ (lat)</label>
          <input type="number" step="any" id="m_lat" required />
        </div>
        <div>
          <label for="m_lon">ê²½ë„ (lon)</label>
          <input type="number" step="any" id="m_lon" required />
        </div>
      </div>

      <div class="row">
        <div>
          <label for="imageURL">ëª¬ìŠ¤í„° ì´ë¯¸ì§€ URL</label>
          <!-- âœ… placeholderê°€ ì•„ë‹ˆë¼ ì‹¤ì œ ê¸°ë³¸ê°’ìœ¼ë¡œ ì…ë ¥ -->
          <input type="url" id="imageURL" value="https://puppi.netlify.app/images/mon/1.png" required />
          <div class="hint">ì´ë¯¸ì§€ë¥¼ ë°”ê¾¸ë ¤ë©´ ìœ„ ê°’ì„ ì›í•˜ëŠ” URLë¡œ ë³€ê²½í•˜ì„¸ìš”.</div>
        </div>
        <div>
          <label for="power">ëª¬ìŠ¤í„° íŒŒì›Œ (í•„ìˆ˜)</label>
          <!-- âœ… ê¸°ë³¸ê°’ 10 -->
          <input type="number" id="power" min="1" value="10" required />
          <div class="hint">ë³´ìƒ=íŒŒì›Œ, ì œí•œì‹œê°„=(íŒŒì›Œ/4)ì´ˆ, í•„ìš”íƒ€ê²©=íŒŒì›ŒíšŒ</div>
        </div>
      </div>

      <div class="row">
        <div>
          <label for="mid">ëª¬ìŠ¤í„° ID (mid)</label>
          <input type="number" id="mid" placeholder="ì˜ˆ: 101" required />
        </div>
        <div>
          <label for="size">ì•„ì´ì½˜ í¬ê¸°(px) (ì„ íƒ)</label>
          <!-- âœ… ê¸°ë³¸ê°’ 44 -->
          <input type="number" id="size" min="24" value="44" />
          <div class="hint">ì§€ë„ ìœ„ ì•„ì´ì½˜ í”½ì…€ í¬ê¸°. ë¹„ìš°ë©´ 96px</div>
        </div>
      </div>

      <!-- ìë™ê³µê²©ìš© í•„ë“œ -->
      <div class="row">
        <div>
          <label for="m_range">ì‚¬ê±°ë¦¬(m)</label>
          <!-- âœ… ê¸°ë³¸ê°’ 5 -->
          <input type="number" id="m_range" min="1" value="5" />
        </div>
        <div>
          <label for="m_damage">1íšŒ ë°ë¯¸ì§€</label>
          <input type="number" id="m_damage" min="1" value="1" />
        </div>
      </div>
      <div class="row">
        <div>
          <label for="m_cooldown">ì¿¨ë‹¤ìš´(ms)</label>
          <input type="number" id="m_cooldown" min="200" value="1800" />
        </div>
        <div>
          <label for="m_docId">ìˆ˜ì •ìš© ë¬¸ì„œID (ì„ íƒ)</label>
          <input type="text" id="m_docId" placeholder="ê¸°ì¡´ ë¬¸ì„œID ì…ë ¥ ì‹œ merge ì—…ë°ì´íŠ¸" />
        </div>
      </div>

      <!-- ğŸ”¥ ë“œë ì•„ì´í…œ/í…Œì´ë¸” ì…ë ¥ -->
      <div class="subtle">
        <strong>ë“œë ì•„ì´í…œ ì„¤ì •</strong>
        <div class="hint">ì•„ë˜ ë‘˜ ì¤‘ í•˜ë‚˜ ë˜ëŠ” ë‘˜ ë‹¤ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- <b>items</b>: ê³ ì • ì „ë¦¬í’ˆ(ì‚¬ëƒ¥ ì™„ë£Œ ì‹œ ê·¸ëŒ€ë¡œ ì§€ê¸‰). ì²« ë²ˆì§¸ ì•„ì´í…œì€ ìë™ìœ¼ë¡œ <b>ë¹¨ê°„ì•½</b>ì´ ë§¨ ì•ì— ì˜¤ë„ë¡ ë³´ì •ë©ë‹ˆë‹¤.
- <b>lootTable</b>: í™•ë¥  ë“œë í…Œì´ë¸”(ë¹„ì–´ ìˆìœ¼ë©´ ë¬´ì‹œ). itemsê°€ ë¹„ì–´ ìˆìœ¼ë©´ lootTableì„ êµ´ë ¤ì„œ ì „ë¦¬í’ˆì„ í™•ì •í•©ë‹ˆë‹¤.</div>

        <label for="m_items">items (JSON ë°°ì—´ ë˜ëŠ” ë¼ì¸/CSV)</label>
        <!-- âœ… ê¸°ë³¸ìœ¼ë¡œ ë¹¨ê°„ì•½ 1ê°œë¥¼ ë¯¸ë¦¬ ì…ë ¥ -->
        <textarea id="m_items">red_potion|ë¹¨ê°„ì•½|1|common</textarea>

        <label for="m_loot">lootTable (JSON ë°°ì—´ ë˜ëŠ” ë¼ì¸/CSV)</label>
        <textarea id="m_loot" placeholder="ì˜ˆ)
mystic_orb|Mystic Orb|rare|0.1|1|1
ë˜ëŠ”
[{ &quot;id&quot;:&quot;mystic_orb&quot;, &quot;name&quot;:&quot;Mystic Orb&quot;, &quot;rarity&quot;:&quot;rare&quot;, &quot;chance&quot;:0.1, &quot;min&quot;:1, &quot;max&quot;:1 }]"></textarea>

        <div class="examples">
          <div class="hint"><b>ë¼ì¸/CSV ê·œì¹™</b>
- items: <code>id|name|qty|rarity</code> ë˜ëŠ” <code>id,qty</code>
- lootTable: <code>id|name|rarity|chance|min|max</code></div>
        </div>
      </div>

      <div class="row">
        <div>
          <label for="m_pass">ê´€ë¦¬ ë¹„ë°€ë²ˆí˜¸</label>
          <input type="password" id="m_pass" placeholder="ìˆ«ì/ë¬¸ì" required />
        </div>
        <div></div>
      </div>

      <button type="submit">ëª¬ìŠ¤í„° ë“±ë¡/ìˆ˜ì •</button>
    </form>
  </div>

  <!-- ë§ë£¨ ë“±ë¡/ìˆ˜ì • -->
  <div class="card">
    <h3>ë§ë£¨ ë“±ë¡/ìˆ˜ì •</h3>
    <form id="towerForm" autocomplete="off">
      <div class="row">
        <div>
          <label for="t_lat">ìœ„ë„ (lat)</label>
          <input type="number" step="any" id="t_lat" required />
        </div>
        <div>
          <label for="t_lon">ê²½ë„ (lon)</label>
          <input type="number" step="any" id="t_lon" required />
        </div>
      </div>

      <div class="row">
        <div>
          <label for="t_range">ì‚¬ê±°ë¦¬(m)</label>
          <input type="number" id="t_range" min="1" value="60" required />
        </div>
        <div>
          <label for="t_icon">ì•„ì´ì½˜ URL (ì„ íƒ)</label>
          <input type="url" id="t_icon" value="https://puppi.netlify.app/images/mon/tower.png" />
        </div>
      </div>

      <div class="row">
        <div>
          <label for="t_docId">ìˆ˜ì •ìš© ë¬¸ì„œID (ì„ íƒ)</label>
          <input type="text" id="t_docId" placeholder="ê¸°ì¡´ ë¬¸ì„œID ì…ë ¥ ì‹œ merge ì—…ë°ì´íŠ¸" />
        </div>
        <div>
          <label for="t_pass">ê´€ë¦¬ ë¹„ë°€ë²ˆí˜¸</label>
          <input type="password" id="t_pass" placeholder="ìˆ«ì/ë¬¸ì" required />
        </div>
      </div>

      <button type="submit">ë§ë£¨ ë“±ë¡/ìˆ˜ì •</button>
    </form>
  </div>

  <!-- Libs -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <script type="module" src="./js/admin.js"></script>
</body>
</html>
