<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="BetDAO - Blockchain-based Game Points and Betting"/>
  <link rel="shortcut icon" href="../images/logo.png"/>
  <title>PAW DAO ¬∑ PuppyWar</title>

  <!-- Bootstrap (single) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"/>

  <!-- Site CSS -->
  <link rel="stylesheet" href="/css/main.css"/>
  <link rel="stylesheet" href="/css/PuppyWar.css"/>

  <!-- Scoped micro styles (ÌéòÏù¥ÏßÄ ÌïúÏ†ï) -->
  <style>
    .pw-scope .card{border-radius:16px}
    .pw-scope .btn{min-height:44px;border-radius:12px;font-weight:600}
    .pw-scope .battlefield{max-width:980px;margin:0 auto}
    .pw-scope .score-board{min-height:22px}
    .pw-scope .team{min-height:88px}
    @media (max-width:576px){
      .pw-scope h5{font-size:1.05rem}
      .pw-scope .btn{padding:.8rem 1rem}
    }
  </style>
</head>
<body class="pw-scope">

  <!-- Header inject -->
  <div id="menu-placeholder"></div>
  <script>
    (async () => {
      try {
        const html = await fetch('../dashboard.html').then(r => r.text());
        const host = document.getElementById('menu-placeholder');
        host.innerHTML = html;
        // ÎÑ§ÎπÑÎ•º full-widthÎ°ú(Îã§Î•∏ ÌéòÏù¥ÏßÄÏôÄ ÎèôÏùº)
        host.querySelectorAll('.navbar .container').forEach(c=>{
          c.classList.remove('container');
          c.classList.add('container-fluid','px-0');
        });
        // (ÏÑ†ÌÉù) ÏÉÅÎã® ÏßÄÌëúÍ∞Ä ÌïÑÏöîÌïòÎ©¥ topinfo Î°úÎìú ÌõÑ topData Ïã§Ìñâ
        const s = document.createElement('script');
        s.src = '../src/topinfo.js';
        s.defer = true;
        s.onload = () => typeof topData === 'function' && topData();
        document.body.appendChild(s);
      } catch(e){ console.error('Error loading dashboard:', e); }
    })();
  </script>

  <!-- PuppyWar Section -->
  <main class="container my-4">
    <div class="card mb-3 p-3">
      <h5 class="mb-0" style="display:flex;align-items:center;gap:10px">
        <a class="navbar-brand" href="../p2e/WithPuppy.html" style="display:flex;align-items:center">
          <!-- Ï†àÎåÄÍ≤ΩÎ°ú ‚Üí ÏÉÅÎåÄÍ≤ΩÎ°úÎ°ú ÍµêÏ≤¥ -->
          <img src="../images/logo.png" alt="Logo" style="width:30px;height:30px;object-fit:contain">
        </a>
        PuppyWar
      </h5>
    </div>

    <div class="card">
      <div class="card-body text-center">

        <div class="battlefield">
          <div id="homeTeam" class="team home"></div>
          <div id="awayTeam" class="team away"></div>
        </div>

        <!-- Í≤ΩÍ∏∞ Í≤∞Í≥º/ÏÉÅÌÉú -->
        <div id="eventS2" class="score-board mt-2"></div>
        <div id="statusMessage" class="score-board"></div>
        <div id="userState" class="score-board"></div>

        <!-- Î≤†ÌåÖ ÏûÖÎ†• -->
        <div class="my-2">
          <input id="bettingAmount" type="number" value="10" min="1"
                 style="padding:8px;border-radius:6px;border:1px solid #ccc;width:90px;text-align:center;font-weight:bold;">
        </div>

        <!-- Ïï°ÏÖò Î≤ÑÌäº -->
        <div class="d-flex flex-wrap justify-content-center">
          <button id="winButton"
                  class="m-1"
                  style="background:linear-gradient(90deg,#4CAF50,#81C784);color:#fff;border:none;padding:8px 15px;border-radius:8px;cursor:pointer;font-size:14px">
            üè† Home Win
          </button>
          <button id="drawButton"
                  class="m-1"
                  style="background:linear-gradient(90deg,#FF9800,#FFB74D);color:#fff;border:none;padding:8px 15px;border-radius:8px;cursor:pointer;font-size:14px">
            ü§ù Draw
          </button>
          <button id="loseButton"
                  class="m-1"
                  style="background:linear-gradient(90deg,#2196F3,#64B5F6);color:#fff;border:none;padding:8px 15px;border-radius:8px;cursor:pointer;font-size:14px">
            üö© Away Win
          </button>
        </div>

      </div>
    </div>
  </main>

  <!-- Footer inject (footer.js Ï†úÍ±∞) -->
  <div id="footer"></div>
  <script>
    (async () => {
      try {
        const html = await fetch('../footer.html').then(r => r.text());
        document.getElementById('footer').innerHTML = html;
      } catch(e){ console.error('Error loading footer:', e); }
    })();
  </script>

  <!-- Vendor JS (defer & SRI Ï†úÍ±∞) -->
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- Page logic -->
  <script defer src="../src/PuppyWar.js"></script>
</body>
</html>
