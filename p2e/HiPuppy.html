<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ZEM DAO</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">
<style>
@keyframes runToCenter {
  0% {
    left: -120px;
    opacity: 0.6;
    transform: scale(0.7) rotate(-10deg);
  }
  70% {
    opacity: 1;
    transform: scale(1.2) rotate(5deg);
  }
  85% {
    transform: scale(1.1) rotate(-3deg);
  }
  100% {
    left: 50%;
    transform: translateX(-50%) scale(1.1) rotate(0deg);
    opacity: 1;
  }
}
.dog-runner {
  animation: runToCenter 1.1s cubic-bezier(0.9,0.3,0.4,1.4) forwards;
}
#dogRunContainer {
  transition: opacity 0.3s;
}
</style>
  <!-- 게임 타이틀 -->
  <div class="card-body text-center bg-white shadow rounded-2xl max-w-md mx-auto mt-6 p-4">
    <h1 class="text-2xl font-bold text-pink-500">🐾Hi Puppy</h1>
    <p class="text-sm text-gray-600 mt-1">강아지를 호출해 보세요</p>
  </div>

  <!-- 슬롯 결과 -->
  <div class="card-body text-center bg-white shadow rounded-2xl max-w-md mx-auto mt-4 p-4">
    <h2 class="text-lg font-semibold mb-2">🎰호출결과</h2>
    <div id="dogRunContainer" class="fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-90" style="display: none;">
  <div class="relative w-full flex justify-center">
    <!-- 강아지 여러 마리 (최대 3~5마리) -->
    <img src="/images/puppy/0.png" class="dog-runner absolute left-[-100px] w-24 h-24" style="animation-delay: 0s;">
    <img src="/images/puppy/1.png" class="dog-runner absolute left-[-120px] w-24 h-24" style="animation-delay: 0.2s;">
    <img src="/images/puppy/2.png" class="dog-runner absolute left-[-140px] w-24 h-24" style="animation-delay: 0.4s;">
  </div>
</div>

    <div id="slotResult" class="grid grid-cols-3 gap-2 text-xl font-bold">
      <!-- 9개 칸, 초기엔 물음표 이미지 -->
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
      <div class="bg-white rounded-lg py-2 flex items-center justify-center h-20">
        <img class="slot-img w-12 h-12 object-contain mx-auto" src="/images/puppy/0.png" alt="?" />
      </div>
    </div>
  <div id="rateInfo" class="mt-3 text-xs text-gray-400">
  나의 강아지와 같은 강아지가 호출되면 마리당 X(<span id="rateValue"></span> 보상)
</div>


  <!-- 조작 박스 -->
  <div class="card-body text-center bg-white shadow rounded-2xl max-w-md mx-auto mt-4 p-4">
    <label for="betAmount" class="block text-sm font-medium mb-1 text-left">베팅 GP:</label>
    <input type="number" id="betAmount" min="1" class="w-full border rounded-lg px-3 py-2 mb-3 focus:outline-none focus:ring-2 focus:ring-pink-400 transition" placeholder="예: 10" />

    <button onclick="playSlot()" class="w-full bg-pink-500 text-white font-semibold py-2 rounded-lg hover:bg-pink-600 mb-2 transition">
      Puppy Call
    </button>

    <a href="PuppyZum.html" class="block w-full bg-gray-200 text-gray-700 text-center font-medium py-2 rounded-lg hover:bg-gray-300 transition">
      🏠 Puppy Home
    </a>

    <div class="mt-4 text-sm text-gray-700 space-y-2">
      <div class="flex items-center justify-center gap-2">
        <span>My Puppy:</span>
        <img id="myBreedImg" src="/images/puppy/question.png" alt="내 강아지" class="w-12 h-12 object-contain rounded-lg border" />
      </div>
      <div>매칭 수: <span id="matchCount" class="font-bold">0</span></div>
      <div>보상 GP: <span id="rewardAmount" class="font-bold">0</span></div>
    </div>
  </div>

  <!-- 이벤트 로그 -->
  <div class="card-body text-center bg-white shadow rounded-2xl max-w-md mx-auto mt-4 p-4">
    <h3 class="font-semibold text-md mb-2">📜 이벤트 로그</h3>
    <div id="log" class="text-left text-sm space-y-1 break-words"></div>
  </div>

  <!-- 사운드 효과 (휘슬, 강아지 짖는소리) -->
  <audio id="barkSound" src="/sounds/bark.mp3" preload="auto"></audio>


  <!-- 스크립트 모음 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.2.0/ethers.umd.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="../src/HiPuppy.js"></script>
</body>
</html>
